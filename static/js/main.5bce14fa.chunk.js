(this.webpackJsonpantdtableplus=this.webpackJsonpantdtableplus||[]).push([[0],{160:function(e,t){},170:function(e,t){},209:function(e,t,n){},210:function(e,t,n){},225:function(e,t){},226:function(e,t){},243:function(e,t){},244:function(e,t){},323:function(e){e.exports=JSON.parse('[{"title":"\u7528\u6237id","dataIndex":"id","key":"id","width":150,"fixed":"left"},{"title":"\u7528\u6237\u540d","dataIndex":"oppty_name","key":"oppty_name","width":160,"editable":true,"fixed":"left"},{"title":"\u9879\u76ee\u540d\u79f0","dataIndex":"project_name","key":"project_name","width":180},{"title":"\u5ba2\u6237\u540d\u79f0","dataIndex":"client_name","key":"client_name","width":180},{"title":"\u7528\u6237\u4ea7\u54c1","dataIndex":"product","key":"product","width":160,"editable":true},{"title":"\u4ea7\u54c1\u4e8c\u7ea7","dataIndex":"product_2rd","key":"product_2rd","width":160,"editable":true},{"title":"\u4ea7\u54c1\u6765\u6e90","dataIndex":"oppty_source","key":"oppty_source","width":150,"editable":true},{"title":"\u884c\u4e1a","dataIndex":"industry","key":"industry","width":150,"editable":true},{"title":"\u4ea7\u54c1\u72b6\u6001","dataIndex":"oppty_status","key":"oppty_status","width":150,"editable":true},{"title":"\u4ea7\u54c1\u91d1\u989d","dataIndex":"quote_amt","key":"quote_amt","type":"number","width":150},{"title":"\u5408\u540c\u603b\u91d1\u989d","dataIndex":"contract_amt_sum","key":"contract_amt_sum","type":"number","width":150},{"title":"\u6210\u4ea4\u6982\u7387","dataIndex":"report_prob","key":"report_prob","width":150,"editable":true},{"title":"\u5907\u6ce8","dataIndex":"extra_comment","key":"extra_comment","width":180,"editable":true},{"title":"\u63d2\u5165\u65f6\u95f4","dataIndex":"insert_time","key":"insert_time","width":160},{"title":"\u66f4\u65b0\u65f6\u95f4","dataIndex":"update_time","key":"update_time","width":160}]')},324:function(e){e.exports=JSON.parse('[{"id":0,"oppty_name":"\u5c0f\u660e","project_name":"\u4e91\u9a91\u8f66","client_name":"\u4e91\u9a91\u8f66\u79d1\u6280","product":"Giant","product_2rd":"Road","oppty_source":"\u5b98\u7f51","industry":"\u81ea\u884c\u8f66","oppty_status":"\u5df2\u4e0a\u67b6","quote_amt":16999,"contract_amt_sum":16999,"report_prob":"90%","extra_comment":"dididi","insert_time":"2021/08/19","update_time":"2021/08/19"},{"id":1,"oppty_name":"\u72d7\u86cb","project_name":"\u952e\u76d8\u9a91","client_name":"\u952e\u76d8\u9a91\u79d1\u6280","product":"ZGL","product_2rd":"Road","oppty_source":"\u5b98\u7f51","industry":"\u81ea\u884c\u8f66","oppty_status":"\u5df2\u4e0a\u67b6","quote_amt":1599,"contract_amt_sum":1599,"report_prob":"20%","extra_comment":"dididi","insert_time":"2021/08/19","update_time":"2021/08/19"}]')},326:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),i=n(26),o=n.n(i),s=(n(209),n(51)),l=n.n(s),u=n(22),d=n(86),j=n(23),b=n(91),f=n(25),p=n(135),h=n(338),O=n(339),x=n(340),m=n(341),v=n(342),y=n(343),g=(n(210),n(211),n(180)),S=n(181),_=n.n(S),w=n(82),k=n(146),I=(n(182),n(147),n(148),n(183)),C=n.n(I),D=(n(227),function e(t,n,c,r,i){if(Array.isArray(t)){var o=t.find((function(e){return e[c]===n}));if(o)return e(o,n,c,r);for(var s=0;s<t.length;s++){a=s;var l=e(t[s],n,c,r);if(l)return i?t[a]:l}}else{if(t[c]===n)return r?t[r]:t;var u=t.children;if(u)return u[c]===n?r?u[r]:u:e(u,n,c,r)}}),N=function(e){return!(!/^\d+(\.\d+)?$/.test(e)&&!/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(e))},A=n(332),E=n(98),z=n(334),R=n(197),T=n(331),F=n(335),H=n(97),Y=n(30),J=n(50),B=n(330),L=n(192),P=n(328),Z=n(329),M=n(85),q=n(31),G=n.n(q),K=n(184),V=n.n(K),U=n(7),W={master:{marginBottom:"6px",background:"#fff",padding:"11px"},span:{marginRight:"20px",cursor:"pointer",color:"#4495f4"},searchTag:{display:"inline-block",borderRadius:"15px",border:"solid 1px #bcc3cf",padding:"3px 40px 3px 10px",position:"relative",marginLeft:"10px"},searchCloseIcon:{cursor:"pointer",float:"right",top:"50%",fontSize:"12px",position:"absolute",marginTop:"-6px",right:"12px",color:"#a0a0a0"},refreshIcon:{color:"#4495f4",fontSize:"14px",cursor:"pointer"}};function $(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(null),o=Object(j.a)(i,2);o[0],o[1];Object(c.useEffect)((function(){e.searchTags&&r(Object(f.a)(e.searchTags))}),[e.searchTags]);V.a;return Object(U.jsx)("div",{className:"search-header animate__animated animate__fadeIn",style:W.master,children:Object(U.jsxs)(P.a,{children:[Object(U.jsx)(Z.a,{span:16,style:{display:"flex"},children:a.map((function(t,n){return t.value.length>0?Object(U.jsx)(F.b,{children:Object(U.jsxs)("div",{className:"search-tag animate__animated animate__slideInUp",style:W.searchTag,children:[t.icon?t.icon:"",Object(U.jsxs)("span",{className:"sea-title",children:[t.title,"\uff1a"]}),Object(U.jsx)("span",{className:"sea-info",children:Array.isArray(t.value)?t.value.join(","):t.value}),Object(U.jsx)(M.a,{style:W.searchCloseIcon,onClick:function(){!function(t){var n=Object(q.cloneDeep)(a);n.splice(t,1),e.deleteSearchTags(t),r(n)}(n)}})]})},t.key):""}))}),Object(U.jsx)(Z.a,{span:8,style:{textAlign:"right"},children:Object(U.jsx)(F.b,{children:e.dynSolt?e.dynSolt():""})})]})})}var Q=n(333),X=n(185),ee=n.n(X),te=n(96),ne=n.n(te),ae=n(186),ce=n.n(ae),re=n(99),ie=n(336),oe=n(337),se=n(202),le={operation:{}},ue=r.a.createContext(le),de=Q.a.confirm;function je(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)([]),o=Object(j.a)(i,2),s=o[0],l=o[1],u=[],d=Object(c.useContext)(ue);d&&d.operation&&d.operation.buttons&&(u=Object(f.a)(d.operation.buttons)),Object(c.useEffect)((function(){r(Object(f.a)(e.selectedRows))}),[e.selectedRows]),Object(c.useEffect)((function(){l(Object(f.a)(e.exportColumns))}),[e.exportColumns]);return Object(U.jsxs)("div",{className:"top-operations animate__animated animate__fadeIn",children:[Object(U.jsxs)("span",{className:"checked-num",children:["\u5df2\u52fe\u9009 ",a.length," \u9879"]}),Object(U.jsx)("div",{className:"btn-group",children:Object(U.jsxs)(F.b,{children:[u.indexOf("delete")>-1&&Object(U.jsx)(Y.a,{onClick:function(){de({title:"\u5220\u9664?",icon:Object(U.jsx)(re.a,{}),content:"\u786e\u5b9a\u6267\u884c\u5220\u9664\u64cd\u4f5c",onOk:function(){var t=a.map((function(e){return e.id}));e.handleDelete(t)},onCancel:function(){console.log("Cancel")}})},type:"default",shape:"round",icon:Object(U.jsx)(ie.a,{}),size:16,children:"\u5220\u9664"}),Object(U.jsx)(Y.a,{onClick:function(){var e=[],t=[],n=[];s.forEach((function(e){n.push(e.title),t.push({dataIndex:e.dataIndex,title:e.title})})),e.push(n),a.forEach((function(n){var a=[];Object.keys(n).forEach((function(e){var c=t.findIndex((function(t){return t.dataIndex===e}));c>-1&&(N(n[e])&&(n[e]=parseFloat(n[e])),a[c]=n[e])})),e.push(a)})),console.log("xlsxlist",e);var c=ee.a.build([{name:"".concat(ne()().format("YYYY-MM-DD HH:mm:ss"),".xlsx"),data:e}]),r=new Blob([c],{type:"text/plain;charset=utf-8"});ce()(r,"".concat(document.title).concat(ne()().format("YYYY-MM-DD HH:mm:ss"),".xlsx"))},type:"default",shape:"round",icon:Object(U.jsx)(oe.a,{}),size:16,children:"\u5bfc\u51fa"}),e.copyAdd?Object(U.jsx)(Y.a,{onClick:function(){1===a.length?e.addRow(1):R.b.error("\u4f60\u6700\u591a\u53ea\u80fd\u9009\u62e9\u4e00\u6761\u6570\u636e\u8fdb\u884c\u590d\u5236\uff01")},type:"default",shape:"round",icon:Object(U.jsx)(se.a,{}),size:16,children:"\u590d\u5236\u65b0\u589e"}):"",e.slot?e.slot.map((function(e){return Object(U.jsx)(Y.a,{onClick:e.func,type:"default",shape:"round",size:16,children:e.title},e.key)})):""]})})]})}var be=n(190),fe=n.n(be),pe=["onResize","width"],he=["index"],Oe=["title","editable","children","dataIndex","record","handleSave","type"],xe=A.a.Text,me=E.a.Option,ve=z.a.TextArea,ye=r.a.createContext(null),ge={id:-1,budget:"",comment:"",deliver_status:"",in_charge:"",industry:"",insert_time:"",is_quote:0,oppty_name:"",oppty_progress:"",oppty_source:"",oppty_status:"",path:"",presale_manager:"",product:"",product_2rd:"",sale_manager:""},Se=function(e){var t=e.onResize,n=e.width,a=Object(p.a)(e,pe);return n?Object(U.jsx)(g.Resizable,{width:n,height:0,handle:Object(U.jsx)("span",{className:"react-resizable-handle",onClick:function(e){e.stopPropagation()}}),onResize:t,draggableOpts:{enableUserSelectHack:!1},children:Object(U.jsx)("th",Object(u.a)({},a))}):Object(U.jsx)("th",Object(u.a)({},a))},_e=500,we=function(e){var t=Object(c.useState)(null),n=Object(j.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(Object(f.a)(e.columns)),o=Object(j.a)(i,2),s=o[0],g=o[1],S=Object(c.useState)(Object(f.a)(e.dataSource)),I=Object(j.a)(S,2),A=I[0],P=I[1],Z=Object(c.useState)(!1),M=Object(j.a)(Z,2),G=M[0],K=M[1],V=Object(c.useState)([]),W=Object(j.a)(V,2),Q=W[0],X=W[1],ee=Object(c.useState)([]),te=Object(j.a)(ee,2),ae=te[0],ce=te[1],re=Object(c.useState)(null),ie=Object(j.a)(re,2),oe=ie[0],se=(ie[1],Object(c.useState)(null)),le=Object(j.a)(se,2),ue=le[0],de=(le[1],Object(c.useState)(!0)),be=Object(j.a)(de,2),pe=be[0],we=be[1],ke=Object(c.useState)(null),Ie=Object(j.a)(ke,2),Ce=Ie[0],De=Ie[1],Ne=Object(c.useState)(!1),Ae=Object(j.a)(Ne,2),Ee=Ae[0],ze=Ae[1],Re=Object(c.useState)([]),Te=Object(j.a)(Re,2),Fe=Te[0],He=Te[1],Ye=Object(c.useState)({}),Je=Object(j.a)(Ye,2),Be=Je[0],Le=Je[1],Pe=Object(c.useState)([]),Ze=Object(j.a)(Pe,2),Me=Ze[0],qe=Ze[1],Ge=Object(c.useState)(0),Ke=Object(j.a)(Ge,2),Ve=Ke[0],Ue=Ke[1];Object(c.useEffect)((function(){P(e.dataSource)}),[e.dataSource]),Object(c.useEffect)((function(){K(!0),e.columns.length>0&&(g(e.columns),K(!1))}),[e.columns]),Object(c.useEffect)((function(){var t=Object(u.a)(Object(u.a)({},e.pagination),{},{showTotal:function(e){return"\u5171 ".concat(e," \u6761")}});r(t)}),[e.pagination]),Object(c.useEffect)((function(){var t={};1===Me.length&&Me.find((function(e){return"sort"===e.key}))?console.warn("\u6392\u5e8f\uff0c\u4e0d\u8fdb\u884c\u641c\u7d22"):(Me.forEach((function(e){var n=e.key,a=e.value;"sort"!==n&&a.length>0&&(t[n]=a)})),e.handleSearch&&e.handleSearch(t))}),[Me]),Object(c.useEffect)((function(){var e=window;_e=e.innerHeight}));var We=function(t,n){var a=Object(f.a)(A),c=a.findIndex((function(e){return t.id===e.id})),r=a[c];if(a.splice(c,1,Object(u.a)(Object(u.a)({},r),t)),t.id>-1)e.handleSaveCell(t,"update",Ce,n),P(a);else if(0===Ve)if(JSON.stringify(t)===JSON.stringify(ge)){R.b.warn("\u65b0\u589e\u65e0\u6548\uff0c\u6ca1\u6709\u6570\u636e\u4fee\u6539\uff01");var i=Object(q.cloneDeep)(A);i.splice(0,1),P(Object(f.a)(i))}else delete t.id,e.handleSaveCell(t,"add",Ce,n);else if(1===Ve){var o=Object(q.cloneDeep)(t),s=Object(q.cloneDeep)(ae[0]);if(s.id=-2,JSON.stringify(o)===JSON.stringify(s)){R.b.warn("\u65b0\u589e\u65e0\u6548\uff0c\u6ca1\u6709\u6570\u636e\u4fee\u6539\uff01");var l=Object(q.cloneDeep)(A);l.splice(0,1),P(Object(f.a)(l))}else delete t.id,e.handleSaveCell(t,"add",Ce)}},$e=function(e){return function(t,n){var a=n.size,c=Object(f.a)(s);c[e]=Object(u.a)(Object(u.a)({},c[e]),{},{width:a.width}),g(c)}},Qe={selectedRowKeys:Q,onChange:function(t,n){ce(n),X(t),e.handleCheckData&&e.handleCheckData(n)},columnWidth:"63px"},Xe=function(t){var n;(ge=function(){var t={number:0,string:"",date:(new Date).toString(),boolean:!1},n=e.columns.reduce((function(e,n){var a=n.typeOf;return e[n.dataIndex]=a?t[a]:"",e}),{});return n.id=-1,n}(),A.find((function(e){return-1===e.id})))?R.b.warn("\u4e00\u6b21\u6700\u591a\u53ea\u80fd\u8fde\u7eed\u65b0\u589e\u4e00\u6761\u6570\u636e\uff01"):(1===t?(Ue(1),(n=Object(q.cloneDeep)(ae[0])).id=-2):(Ue(0),n=Object(q.cloneDeep)(ge)),P([n].concat(Object(f.a)(A))))},et=function(t,n){var a=s;a=a.map((function(e){return e.dataIndex===t?Object(u.a)(Object(u.a)({},e),{},{fixed:1===n&&"left"}):Object(u.a)({},e)}));var c=Array(a.length).fill(null);a.reduce((function(t,n){var a=e.columns.findIndex((function(e){return e.dataIndex===n.dataIndex}));return c[a]=n,n}),0);var r=[],i=[];c.reduce((function(e,t){return(null===t||void 0===t?void 0:t.fixed)&&"left"===(null===t||void 0===t?void 0:t.fixed)?r.push(t):i.push(t),t}),0),a=[].concat(r,i),g(Object(f.a)(a)),R.b.success(1===n?"\u9501\u5b9a\u6210\u529f\uff01":"\u53d6\u6d88\u9501\u5b9a\uff01")},tt=function(e,t){var n=Object(f.a)(A);if((n=function(e,t,n){var a=[],c=[];return e.reduce((function(e,n,c){return Object.keys(n).forEach((function(r){var i;r===t&&("string"===typeof n[t]&&(i=n[t].substr(0,1),i=C.a.spell(i)),i||(i=n[t]),e.push(i),a.push({str:i,inx:c}))})),e}),[]).sort().reduce((function(t,n){return n!==t&&a.filter((function(e){return e.str===n})).forEach((function(t){var n=t.inx;c.push(e[n])})),n}),null),"Z-A"===n&&(c=c.reverse()),c}(n,t,e))&&n.length>0){P(n);var a={};a[t]=e,Le(Object(u.a)({},a)),function(e){var t=Object.keys(e),n=Object(j.a)(t,1)[0],a=e[n],c={};c.icon="A-Z"===a?Object(U.jsx)(h.a,{}):Object(U.jsx)(O.a,{});var r=D(s,n,"dataIndex","title");c.value="".concat(r," ").concat(a),c=Object(u.a)(Object(u.a)({},{title:"\u6392\u5e8f",key:"sort"}),c);var i=Object(q.cloneDeep)(Me),o=i.findIndex((function(e){return"\u6392\u5e8f"===e.title}));-1!==o&&i.splice(o,1),i.push(c),qe(i)}(a)}else R.b.warn("\u5f53\u524d\u5217\u7684\u6570\u636e\u5168\u90e8\u4e3a\u7a7a\uff0c\u6392\u5e8f\u5931\u8d25\uff01")},nt=function(e,t,n){var a,c=Object(q.cloneDeep)(Me),r=c.findIndex((function(t){return t.key===e}));r>-1?Array.isArray(c[r].value)&&(c[r].value=Object(f.a)(n)):(a={title:t,key:e,value:n},c.push(a)),qe(Object(f.a)(c))},at=function(e,t){var n=null;return function(a){a.persist(),null!==n&&clearTimeout(n),n=setTimeout(e,t,a)}},ct=Object(c.useRef)(null),rt=function(e){e=e.filter((function(e){return e&&e.trim()})),He(e);var t=ct.current.props,n=t.field,a=t.title;nt(n,a,e)},it=function(e){var t,n=e.dataIndex,a=e.type,c=s.find((function(e){return e.dataIndex===n}));c&&(t=c.fixed);var r,i,o=s.find((function(e){return e.dataIndex===n}));if(o){r=o.headerSearch;var l=o.searchInput;i=void 0===l||l}else r={};return{filterDropdown:function(e){e.setSelectedKeys,e.selectedKeys;var a=e.confirm;e.clearFilters;return Object(U.jsx)("div",{style:{padding:6,width:"260px",maxHeight:"500px",overflowY:"scroll"},children:Object(U.jsxs)("div",{className:"column-search",children:[Object(U.jsxs)("div",{className:"column-search-sort",children:[Object(U.jsxs)("div",{className:"h-ic",onClick:function(){tt("A-Z",n)},style:Be[n]&&"A-Z"===Be[n]?{color:"#1890FF"}:{},children:[Object(U.jsx)(h.a,{}),"\u5347\u5e8f"]}),Object(U.jsxs)("div",{className:"h-ic",onClick:function(){tt("Z-A",n)},style:Be[n]&&"Z-A"===Be[n]?{color:"#1890FF"}:{},children:[Object(U.jsx)(O.a,{}),"\u964d\u5e8f"]})]}),Object(U.jsx)("div",{className:"h-ic lock",children:t?Object(U.jsx)("span",{className:"cancel-lock",onClick:function(){return et(n,0)},children:Object(U.jsxs)(F.b,{children:[Object(U.jsx)(x.a,{}),"\u53d6\u6d88\u9501\u5b9a"]})}):Object(U.jsx)("span",{className:"locking",onClick:function(){return et(n,1)},children:Object(U.jsxs)(F.b,{children:[Object(U.jsx)(m.a,{}),"\u9501\u5b9a\u6b64\u5217"]})})}),i?Object(U.jsxs)("div",{className:"h-ic filter",style:{marginBottom:"15px"},children:[Object(U.jsx)(v.a,{})," \u7b5b\u9009",Object(U.jsx)(z.a,{placeholder:"\u5b57\u6bb5\u641c\u7d22",onChange:at((function(e){!function(e,t){var n=s.find((function(e){return e.dataIndex===t})).title;nt(t,n,[e.target.value])}(e,n)}),1e3),style:{margin:"12px 0"},suffix:Object(U.jsx)(fe.a,{})}),r?Object(U.jsxs)("div",{className:"select-props-list",children:[Object(U.jsx)(H.a,{ref:ct,title:o.title,field:n,indeterminate:pe,onChange:function(e){return function(e,t,n){He(e.target.checked?Object(f.a)(t):[]),R.b.success(e.target.checked?"\u5168\u9009":"\u53d6\u6d88\u5168\u9009"),we(!1),ze(e.target.checked);var a=s.find((function(e){return e.dataIndex===n})).title;nt(n,a,e.target.checked?t:[])}(e,r,n)},checked:Ee,children:"Check all"}),Object(U.jsx)(w.b,{options:r,value:Fe,onChange:rt})]}):""]}):"",Object(U.jsx)("div",{className:"column-search-button",children:Object(U.jsxs)(F.b,{children:[Object(U.jsx)(Y.a,{shape:"round",size:13,onClick:function(){!function(e){et(e,0);var t=Object(q.cloneDeep)(Me),n=t.findIndex((function(t){return t.key===e}));n>-1&&(t.splice(n,1),qe(Object(f.a)(t)),He([]))}(n),a()},children:"\u53d6\u6d88"}),Object(U.jsx)(Y.a,{type:"primary",shape:"round",size:13,onClick:function(){a()},children:"\u786e\u5b9a"})]})})]})})},filterIcon:function(e){return Object(U.jsx)(y.a,{style:{fontSize:"18px"}})},onFilter:function(e,t){return t[n]?t[n].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){},render:function(e){return(n.indexOf("time")>-1||n.indexOf("date")>-1)&&(e=ne()(e).format("YYYY-MM-DD HH:mm:ss")),"percent"===a&&e?e="".concat(100*e,"%"):a&&"number"!==a||!N(e)||(e=parseInt(e,10)),oe===n?Object(U.jsx)(_.a,{searchWords:ue,textToHighlight:e?e.toString():""}):Object(U.jsx)(J.a,{placement:"top",title:e,children:e})}}},ot=s.map((function(e,t){var n=Object(u.a)(Object(u.a)(Object(u.a)({},e),{},{ellipsis:{showTitle:!1}},it(e)),{},{onHeaderCell:function(e){return{width:e.width,onResize:$e(t)}}}),a=Object(q.cloneDeep)(e);return a.children?((a=Object(q.cloneDeep)(e)).children.forEach((function(e,t){var n=Object(u.a)(Object(u.a)(Object(u.a)({},e),it(e)),{},{onHeaderCell:function(e){return{width:e.width,onResize:$e(t)}}});a.children[t]=Object(u.a)(Object(u.a)({},n),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,type:e.type,handleSave:function(){return We(t)}}}})})),a):e.editable?Object(u.a)(Object(u.a)({},n),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,type:e.type,handleSave:function(){return We(t)}}}}):n})),st={header:{cell:Se},body:{row:function(e){var t=e.index,n=Object(p.a)(e,he),a=T.a.useForm(),c=Object(j.a)(a,1)[0];return Object(U.jsx)(T.a,{form:c,component:!1,children:Object(U.jsx)(ye.Provider,{value:c,children:Object(U.jsx)("tr",Object(u.a)({},n))})},t)},cell:function(t){t.title;var n=t.editable,a=t.children,r=t.dataIndex,i=t.record,o=(t.handleSave,t.type),s=Object(p.a)(t,Oe),f=Object(c.useState)(!1),h=Object(j.a)(f,2),O=h[0],x=h[1],m=Object(c.useState)(null),v=Object(j.a)(m,2),y=v[0],g=v[1],S=Object(c.useContext)(ye),_=function(t){if(e.handleEditing&&e.handleEditing(r,i),"multiple"===t){var n=i[r]?i[r].split(","):[];S.setFieldsValue(Object(b.a)({},r,n))}else S.setFieldsValue(Object(b.a)({},r,i[r]));x(!O)},w=Object(c.useRef)(null),k=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,c,r,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.validateFields();case 3:n=e.sent,"select"===t[0]&&(c=Object(j.a)(t,4),r=c[2],o=c[3],a=r,o&&(0,o.handleSelected)(n,i)),"multiple"===a&&(s=n[Object.keys(n)[0]])&&""!==s&&(n[Object.keys(n)[0]]=s.join(",")),_(a),We(Object(u.a)(Object(u.a)({},i),n),y),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(O){g(Object(u.a)({},i));try{if(!Array.isArray(n)&&"select"!==n[0])try{w.current&&w.current.focus()}catch(e){console.warn(e)}De(r)}catch(e){console.log(e)}}}),[O]);var I=a;return n&&(I=O?Object(U.jsx)(T.a.Item,{style:{margin:0},name:r,children:"select"===n[0]?Object(U.jsx)(E.a,{mode:n[2]?n[2]:"",ref:w,showSearch:!0,onBlur:function(){k(n)},onChange:function(){k(n)},children:n[1].map((function(e){return Object(U.jsx)(me,{value:e,children:e},e)}))}):"number"===o?Object(U.jsx)(z.a,{type:"number",onPressEnter:k,onBlur:k}):Object(U.jsx)(ve,{autoSize:!0,ref:w,onPressEnter:k,onBlur:k})}):"select"!==n[0]?Object(U.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onDoubleClick:function(){return _(n[2])},children:a}):Object(U.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:function(){return _(n[2])},children:a})),Object(U.jsx)("td",Object(u.a)(Object(u.a)({},s),{},{children:I}))}}};return Object(c.useImperativeHandle)(e.cRef,(function(){return{addRow:function(){Xe()}}})),Object(U.jsx)("div",{children:Object(U.jsxs)(L.a,{spinning:G,tip:"\u52a0\u8f7d\u4e2d~",children:[Object(U.jsx)("div",{style:{display:0===ae.length?"":"none"},children:Object(U.jsx)($,{searchTags:Me,refrenshTable:e.refrenshTable,exportDatas:ae,addRow:Xe,deleteSearchTags:function(e){var t=Object(q.cloneDeep)(Me);t.splice(e,1),qe(Object(f.a)(t))},refreshTable:function(){var t=e.refreshTable;t&&t()},exportDataAll:function(){e.exportDataAll()},dynSolt:e.headerRigSolt})}),Object(U.jsx)("div",{style:{display:ae.length>0?"":"none"},children:Object(U.jsx)(je,{handleDelete:function(t){if(e.handleDelete){e.handleDelete(t);var n=Object(f.a)(ae);n.length=0,ce(Object(f.a)(n))}else R.b.error("\u6b64\u8868\u683c\u6682\u4e0d\u652f\u6301\u5220\u9664\u64cd\u4f5c\uff01")},selectedRows:ae,exportColumns:s,addRow:Xe,copyAdd:!!e.options&&e.options.copyAdd,slot:e.operationsSlot})}),Object(U.jsx)(B.a,{sticky:!0,bordered:!0,components:st,columns:ot,dataSource:A,rowClassName:function(){return"editable-row"},onChange:e.handleTableChange,rowKey:"id",pagination:a,size:"small",scroll:{y:_e-200},rowSelection:Object(u.a)({},Qe),summary:function(e){var t=[];if(e.length>0){e.forEach((function(e){var n={};Object.keys(e).forEach((function(t){D(s,t,"dataIndex")&&(n[t]=e[t])})),t.push(n)}));var n=["insert_time","create_time","update_time","report_date"],a=new Array(Object.keys(t[0]).length).fill(0);return t.forEach((function(e){Object.keys(e).forEach((function(t,c){var r=function(e){var t,n=[],a=Object(k.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value,r=c.children;r?n.push.apply(n,Object(f.a)(r)):n.push(c)}}catch(i){a.e(i)}finally{a.f()}return n}(s),i=r.findIndex((function(e){return e.dataIndex===t})),o=r.find((function(e){return e.dataIndex===t}));if(i>-1&&"number"===o.type){var l=e[t]?parseFloat(e[t]):0;n.indexOf(t)<0&&(a[i]+=l,isNaN(a[i])&&(a[i]=0))}else a[i]=""}))})),Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(B.a.Summary.Row,{children:[Object(U.jsx)(B.a.Summary.Cell,{children:Object(U.jsx)(xe,{type:"danger",children:"\u603b\u8ba1\uff1a"})}),a.map((function(e,t){return Object(U.jsx)(B.a.Summary.Cell,{children:Object(U.jsx)(xe,{type:"danger",children:Object(U.jsx)("strong",{children:~~e})})},"".concat(e).concat(t))}))]})})}}})]})})},ke={selSetColumns:function(e,t){console.log("\u6267\u884csel");var n=t;if(Array.isArray(e)){var a=Object(f.a)(e);n=n.map((function(e){var t=a.find((function(t){return t.dataIndex===e.dataIndex}));if(t){var n=t.value;e.editable&&(e.editable=["select",n]),e.headerSearch=n}return e}))}return n}},Ie=n(323),Ce=n(324);var De=function(){var e=Object(c.useState)(0),t=Object(j.a)(e,2),n=t[0],a=(t[1],Object(c.useState)(1)),r=Object(j.a)(a,2),i=r[0],o=r[1],s=Object(c.useState)([]),b=Object(j.a)(s,2),f=b[0],p=b[1],h=Object(c.useState)(20),O=Object(j.a)(h,2),x=O[0],m=O[1],v=Object(c.useState)({}),y=Object(j.a)(v,2),g=y[0],S=y[1],_=[{dataIndex:"product",value:["Giant","ZGL","Liv"]}],w=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=G.a.cloneDeep(g),"{}"===JSON.stringify(t)?n={}:Object.keys(t).forEach((function(e){t[e].indexOf(",")>-1&&(t[e]=t[e].split(",")),n[e]=t[e]})),S(Object(u.a)({},n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(l.a.mark((function e(t,n,a,c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"update"===n?R.b.success("\u66f4\u65b0\u6570\u636e\uff01"):"add"===n&&R.b.success("\u65b0\u589e\u6570\u636e\uff01");case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R.b.success("\u5220\u9664\u884c\u6570\u636e\uff01");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){p(ke.selSetColumns(_,G.a.cloneDeep(Ie)))}),[]),Object(U.jsx)("div",{className:"App",children:Object(U.jsx)(ue.Provider,{value:{operation:{buttons:["delete"]}},children:Object(U.jsx)(we,{columns:f,dataSource:Ce,pagination:{total:n,showQuickJumper:!0,showSizeChanger:!0,defaultPageSize:10,defaultCurrent:1,current:i,pageSize:x},options:{topSearch:!0,copyAdd:!0},refreshTable:function(){},handleTableChange:function(e){o(e.current),m(e.pageSize),S(Object(u.a)(Object(u.a)({},g),{},{page:e.current,pageSize:e.pageSize}))},handleSearch:w,handleSaveCell:k,handleDelete:I})})})},Ne=(n(325),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,344)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))});o.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(De,{})}),document.getElementById("root")),Ne()}},[[326,1,2]]]);
//# sourceMappingURL=main.5bce14fa.chunk.js.map